import{r as D,j as o,F as T,a as n,M as v,d as C,A as g}from"./app-f2afa999.js";import U from"./ApplicationsList-3195ba1c.js";import{r as z,t as I,m as x,a as b,f as N}from"./index-954d39c4.js";function w(a,e){var r;z(1,arguments);var t=I((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(t!==2&&t!==1&&t!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof a=="string"||Object.prototype.toString.call(a)==="[object String]"))return new Date(NaN);var i=$(a),d;if(i.date){var u=A(i.date,t);d=F(u.restDateString,u.year)}if(!d||isNaN(d.getTime()))return new Date(NaN);var m=d.getTime(),c=0,s;if(i.time&&(c=H(i.time),isNaN(c)))return new Date(NaN);if(i.timezone){if(s=j(i.timezone),isNaN(s))return new Date(NaN)}else{var l=new Date(m+c),p=new Date(0);return p.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),p.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),p}return new Date(m+c+s)}var h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},M=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,S=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $(a){var e={},r=a.split(h.dateTimeDelimiter),t;if(r.length>2)return e;if(/:/.test(r[0])?t=r[0]:(e.date=r[0],t=r[1],h.timeZoneDelimiter.test(e.date)&&(e.date=a.split(h.timeZoneDelimiter)[0],t=a.substr(e.date.length,a.length))),t){var i=h.timezone.exec(t);i?(e.time=t.replace(i[1],""),e.timezone=i[1]):e.time=t}return e}function A(a,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),t=a.match(r);if(!t)return{year:NaN,restDateString:""};var i=t[1]?parseInt(t[1]):null,d=t[2]?parseInt(t[2]):null;return{year:d===null?i:d*100,restDateString:a.slice((t[1]||t[2]).length)}}function F(a,e){if(e===null)return new Date(NaN);var r=a.match(M);if(!r)return new Date(NaN);var t=!!r[4],i=f(r[1]),d=f(r[2])-1,u=f(r[3]),m=f(r[4]),c=f(r[5])-1;if(t)return R(e,m,c)?O(e,m,c):new Date(NaN);var s=new Date(0);return!W(e,d,u)||!Z(e,i)?new Date(NaN):(s.setUTCFullYear(e,d,Math.max(i,u)),s)}function f(a){return a?parseInt(a):1}function H(a){var e=a.match(S);if(!e)return NaN;var r=y(e[1]),t=y(e[2]),i=y(e[3]);return E(r,t,i)?r*x+t*b+i*1e3:NaN}function y(a){return a&&parseFloat(a.replace(",","."))||0}function j(a){if(a==="Z")return 0;var e=a.match(_);if(!e)return 0;var r=e[1]==="+"?-1:1,t=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return K(t,i)?r*(t*x+i*b):NaN}function O(a,e,r){var t=new Date(0);t.setUTCFullYear(a,0,4);var i=t.getUTCDay()||7,d=(e-1)*7+r+1-i;return t.setUTCDate(t.getUTCDate()+d),t}var Y=[31,null,31,30,31,30,31,31,30,31,30,31];function k(a){return a%400===0||a%4===0&&a%100!==0}function W(a,e,r){return e>=0&&e<=11&&r>=1&&r<=(Y[e]||(k(a)?29:28))}function Z(a,e){return e>=1&&e<=(k(a)?366:365)}function R(a,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function E(a,e,r){return a===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&a>=0&&a<25}function K(a,e){return e>=0&&e<=59}const L=({shift:a,selectRowHandler:e,showRowDetails:r=null,selected:t=!1})=>{var i;return a={...a,start_date:N(w(a.start_date),"dd/MM/yyyy HH:mm"),end_date:N(w(a.end_date),"dd/MM/yyyy HH:mm")},o("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-700",children:[n("td",{className:"w-4 p-4",children:o("div",{className:"flex items-center",children:[n("input",{onChange:d=>e(d,a.id),id:`checkbox-${a.id}`,checked:t,"aria-describedby":"checkbox-1",type:"checkbox",className:"w-4 h-4 border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:focus:ring-primary-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:`checkbox-${a.id}`,className:"sr-only",children:"checkbox"})]})}),n("td",{className:"flex items-center p-4 mr-12 space-x-6 whitespace-nowrap",children:((i=a==null?void 0:a.professional_type)==null?void 0:i.name)||"Kwalifikowana pielęgniarka"}),n("td",{className:"p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.start_date}),n("td",{className:"p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white",children:a.end_date}),n("td",{className:"p-4 text-base font-medium text-gray-900 whitespace-nowrap dark:text-white",children:n(C,{href:`/employer/shift/${a.id}/applications?type=all`,children:o(g.Group,{children:[n(g,{rounded:!0,stacked:!0}),n(g,{rounded:!0,stacked:!0}),n(g,{rounded:!0,stacked:!0}),n(g.Counter,{className:"cursor-pointer",total:99})]})})}),n("td",{className:"p-4 text-base font-normal text-gray-900 whitespace-nowrap dark:text-white",children:a.total_pay}),n("td",{className:"p-4 space-x-2 whitespace-nowrap"})]})},q=({shifts:a,onRowSelected:e,selectedRows:r})=>{const[t,i]=D.useState(-1),d=["Specjalista","Początek zmiany","Koniec zmiany","Aplikacje","Wynagrodzenie",""],u=s=>{if(s.target.checked){e(a.map(l=>l.id));return}e([])},m=(s,l)=>{if(s.target.checked){e([...r,l]);return}e(r.filter(p=>p!==l))},c=s=>r.includes(s);return o(T,{children:[n("div",{className:"flex flex-col",children:n("div",{className:"overflow-x-auto",children:n("div",{className:"inline-block min-w-full align-middle",children:n("div",{className:"overflow-hidden shadow",children:o("table",{className:"min-w-full divide-y divide-gray-200 table-fixed dark:divide-gray-600",children:[n("thead",{className:"bg-gray-100 dark:bg-gray-700",children:o("tr",{children:[n("th",{scope:"col",className:"p-4",children:o("div",{className:"flex items-center",children:[n("input",{onChange:s=>u(s),id:"checkbox-all","aria-describedby":"checkbox-1",type:"checkbox",className:"w-4 h-4 border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:focus:ring-primary-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"}),n("label",{htmlFor:"checkbox-all",className:"sr-only",children:"checkbox"})]})}),d.map((s,l)=>n("th",{scope:"col",className:"p-4 text-xs font-medium text-left text-gray-500 uppercase dark:text-gray-400",children:s},l))]})}),n("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700",children:a.map(s=>n(L,{selected:c(s.id),selectRowHandler:m,showRowDetails:()=>i(1),shift:s},s.id))})]})})})})}),o(v,{show:t!==-1,size:"lg",onClose:()=>i(-1),children:[n(v.Header,{children:"Aplikacje - [...]"}),n(v.Body,{children:n(U,{applications:[]})})]})]})},P=q;export{P as default};
