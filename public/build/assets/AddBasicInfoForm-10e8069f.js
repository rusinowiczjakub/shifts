import{r as v,W as w,j as r,a}from"./app-cb7c3026.js";import{L as N}from"./Loader-3a50c97e.js";import{I as d}from"./InputError-dfb3466d.js";import{I as c}from"./InputLabel-715040bc.js";import{T as j}from"./TextInput-9c01f8e6.js";import{q as t}from"./combobox-3b4cb3ab.js";import{q as z}from"./transition-0e0945b0.js";import"./open-closed-0089f4cf.js";import"./use-disposables-c838a7bc.js";import"./disposables-253897a2.js";import"./keyboard-84b441a2.js";import"./use-owner-29cc5f42.js";import"./use-resolve-button-type-a6e36f43.js";import"./calculate-active-index-6844f6a3.js";import"./active-element-history-60248efa.js";import"./hidden-dde3b693.js";import"./use-is-mounted-33b0e827.js";function V({className:u,profile:m,user:p}){const[g,b]=v.useState([]),{data:i,setData:s,post:f,transform:h,processing:n,errors:l,recentlySuccessful:x,reset:C}=w({name:p.name,bio:m.bio,city:m.city}),y=e=>{e.preventDefault(),h(o=>({...o,city:o.city.id})),f(route("staff.profile.basic"))},k=async e=>{const o=await fetch(route("dictionary.cities",{cityName:e}),{method:"GET"});b(await o.json())};return r("section",{className:u,children:[r("header",{children:[a("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Podstawowe informacje o Tobie"}),a("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Uzupełnij swoje imię i nazwisko, miasto i napisz nam kilka słów o sobie (opcjonalnie)."})]}),a("div",{children:r("form",{onSubmit:y,className:"w-full lg:max-w-xl",children:[a("div",{className:"mb-4",children:r(t,{value:i.city,as:"div",className:"relative flex flex-col w-full",onChange:e=>s("city",e),children:[a(t.Label,{as:"label",className:"block font-medium text-sm text-gray-700 dark:text-gray-300 ",children:"Miasto"}),a(t.Input,{displayValue:e=>e==null?void 0:e.name,autoComplete:"off",className:"mt-1 border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm ",as:"input",onChange:e=>k(e.target.value)}),a(t.Options,{as:"div",className:"w-full absolute z-50 bg-white top-[4.5rem] border-1 border-gray-300 shadow rounded-md",children:g.map(e=>r(t.Option,{className:"cursor-pointer list-none group hover:bg-blue-600 hover:text-white rounded-md py-2 px-4",value:e,children:[e.name,", ",a("span",{className:"text-sm text-gray-500 group-hover:text-gray-200",children:e.province.name})]},e.id))})]})}),r("div",{className:"mb-4",children:[a(c,{htmlFor:"name",value:"Imię i nazwisko"}),a(j,{id:"name",name:"name",value:i.name,className:"mt-1 block w-full",autoComplete:"name",onChange:e=>s("name",e.target.value),required:!0}),a(d,{message:l.name,className:"mt-2"})]}),r("div",{className:"mb-4",children:[a(c,{htmlFor:"bio",value:"Bio"}),a("textarea",{id:"bio",rows:"4",value:i.bio,onChange:e=>s("bio",e.target.value),className:"block p-2.5 w-full resize-none text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Napisz kilka słów o sobie..."}),a(d,{message:l.bio,className:"mt-2"})]}),r("div",{className:"flex items-center gap-4 mt-4",children:[r("button",{type:"submit",disabled:n,className:"flex items-center justify-center px-6 py-3 text-sm font-medium tracking-wide text-white transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50",children:[n&&a(N,{}),!n&&"Zapisz"]}),a(z,{show:x,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:a("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Zapisano."})})]})]})})]})}export{V as default};
