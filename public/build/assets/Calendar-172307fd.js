import{r as m,R as G,a as c,j as v}from"./app-577d8930.js";import{B as se}from"./Briefcase-51926ae5.js";import{r as S,t as w,a as F,_ as ue,f as N}from"./index-cde6c6bc.js";import{p as ce}from"./index-246d522a.js";import{e as de,p as J}from"./index-7748d2dd.js";import{p as $}from"./index-92a6654d.js";import{p as oe,o as z}from"./use-disposables-be0c22b6.js";import{o as M,O as X,U as L,y as _,s as me,u as ie,d as O,C as j,a as fe,l as q}from"./open-closed-0ff2e2d6.js";import{I as Y,o as y,r as pe}from"./keyboard-34e6c592.js";import{y as ve,n as he,h as ye,T as ge,_ as xe,M as ee,D as le,I as be}from"./use-owner-ae4fa5ae.js";import{T as Me}from"./use-resolve-button-type-9560c8b3.js";import{F as Ie,u as De,c as T,f as we}from"./calculate-active-index-a9366aed.js";import{q as Re}from"./transition-92d9fd05.js";import"./use-is-mounted-f4eb1d61.js";let te=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function re(e){var r,a;let t=(r=e.innerText)!=null?r:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return t;let i=!1;for(let n of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))n.remove(),i=!0;let l=i?(a=o.innerText)!=null?a:"":t;return te.test(l)&&(l=l.replace(te,"")),l}function Ne(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let a=e.getAttribute("aria-labelledby");if(a){let t=a.split(" ").map(o=>{let i=document.getElementById(o);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():re(i).trim()}return null}).filter(Boolean);if(t.length>0)return t.join(", ")}return re(e).trim()}function Te(e){let r=m.useRef(""),a=m.useRef("");return M(()=>{let t=e.current;if(!t)return"";let o=t.innerText;if(r.current===o)return a.current;let i=Ne(t).trim().toLowerCase();return r.current=o,a.current=i,i})}var Se=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Se||{}),Fe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Fe||{}),Ce=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Ce||{});function H(e,r=a=>a){let a=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,t=be(r(e.items.slice()),i=>i.dataRef.current.domRef.current),o=a?t.indexOf(a):null;return o===-1&&(o=null),{items:t,activeItemIndex:o}}let Ee={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,r)=>{var a;let t=H(e),o=we(r,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeItemIndex:o,activationTrigger:(a=r.trigger)!=null?a:1}},3:(e,r)=>{let a=e.searchQuery!==""?0:1,t=e.searchQuery+r.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(l=>{var n;return((n=l.dataRef.current.textValue)==null?void 0:n.startsWith(t))&&!l.dataRef.current.disabled}),i=o?e.items.indexOf(o):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,r)=>{let a=H(e,t=>[...t,{id:r.id,dataRef:r.dataRef}]);return{...e,...a}},6:(e,r)=>{let a=H(e,t=>{let o=t.findIndex(i=>i.id===r.id);return o!==-1&&t.splice(o,1),t});return{...e,...a,activationTrigger:1}}},V=m.createContext(null);V.displayName="MenuContext";function U(e){let r=m.useContext(V);if(r===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,U),a}return r}function ke(e,r){return ie(r.type,Ee,e,r)}let Pe=m.Fragment;function Ae(e,r){let{__demoMode:a=!1,...t}=e,o=m.useReducer(ke,{__demoMode:a,menuState:a?0:1,buttonRef:m.createRef(),itemsRef:m.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:l,buttonRef:n},d]=o,f=_(r);ve([n,l],(D,b)=>{var p;d({type:1}),ye(b,ge.Loose)||(D.preventDefault(),(p=n.current)==null||p.focus())},i===0);let h=M(()=>{d({type:1})}),I=m.useMemo(()=>({open:i===0,close:h}),[i,h]),g={ref:f};return G.createElement(V.Provider,{value:o},G.createElement(me,{value:ie(i,{0:O.Open,1:O.Closed})},j({ourProps:g,theirProps:t,slot:I,defaultTag:Pe,name:"Menu"})))}let $e="button";function Oe(e,r){var a;let t=Y(),{id:o=`headlessui-menu-button-${t}`,...i}=e,[l,n]=U("Menu.Button"),d=_(l.buttonRef,r),f=oe(),h=M(p=>{switch(p.key){case y.Space:case y.Enter:case y.ArrowDown:p.preventDefault(),p.stopPropagation(),n({type:0}),f.nextFrame(()=>n({type:2,focus:T.First}));break;case y.ArrowUp:p.preventDefault(),p.stopPropagation(),n({type:0}),f.nextFrame(()=>n({type:2,focus:T.Last}));break}}),I=M(p=>{switch(p.key){case y.Space:p.preventDefault();break}}),g=M(p=>{if(pe(p.currentTarget))return p.preventDefault();e.disabled||(l.menuState===0?(n({type:1}),f.nextFrame(()=>{var R;return(R=l.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})})):(p.preventDefault(),n({type:0})))}),D=m.useMemo(()=>({open:l.menuState===0}),[l]),b={ref:d,id:o,type:Me(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":(a=l.itemsRef.current)==null?void 0:a.id,"aria-expanded":l.menuState===0,onKeyDown:h,onKeyUp:I,onClick:g};return j({ourProps:b,theirProps:i,slot:D,defaultTag:$e,name:"Menu.Button"})}let Be="div",Le=X.RenderStrategy|X.Static;function _e(e,r){var a,t;let o=Y(),{id:i=`headlessui-menu-items-${o}`,...l}=e,[n,d]=U("Menu.Items"),f=_(n.itemsRef,r),h=he(n.itemsRef),I=oe(),g=fe(),D=(()=>g!==null?(g&O.Open)===O.Open:n.menuState===0)();m.useEffect(()=>{let u=n.itemsRef.current;u&&n.menuState===0&&u!==(h==null?void 0:h.activeElement)&&u.focus({preventScroll:!0})},[n.menuState,n.itemsRef,h]),Ie({container:n.itemsRef.current,enabled:n.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let b=M(u=>{var E,A;switch(I.dispose(),u.key){case y.Space:if(n.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),d({type:3,value:u.key});case y.Enter:if(u.preventDefault(),u.stopPropagation(),d({type:1}),n.activeItemIndex!==null){let{dataRef:x}=n.items[n.activeItemIndex];(A=(E=x.current)==null?void 0:E.domRef.current)==null||A.click()}le(n.buttonRef.current);break;case y.ArrowDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Next});case y.ArrowUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Previous});case y.Home:case y.PageUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.First});case y.End:case y.PageDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Last});case y.Escape:u.preventDefault(),u.stopPropagation(),d({type:1}),z().nextFrame(()=>{var x;return(x=n.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case y.Tab:u.preventDefault(),u.stopPropagation(),d({type:1}),z().nextFrame(()=>{xe(n.buttonRef.current,u.shiftKey?ee.Previous:ee.Next)});break;default:u.key.length===1&&(d({type:3,value:u.key}),I.setTimeout(()=>d({type:4}),350));break}}),p=M(u=>{switch(u.key){case y.Space:u.preventDefault();break}}),R=m.useMemo(()=>({open:n.menuState===0}),[n]),s={"aria-activedescendant":n.activeItemIndex===null||(a=n.items[n.activeItemIndex])==null?void 0:a.id,"aria-labelledby":(t=n.buttonRef.current)==null?void 0:t.id,id:i,onKeyDown:b,onKeyUp:p,role:"menu",tabIndex:0,ref:f};return j({ourProps:s,theirProps:l,slot:R,defaultTag:Be,features:Le,visible:D,name:"Menu.Items"})}let je=m.Fragment;function Ue(e,r){let a=Y(),{id:t=`headlessui-menu-item-${a}`,disabled:o=!1,...i}=e,[l,n]=U("Menu.Item"),d=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===t:!1,f=m.useRef(null),h=_(r,f);q(()=>{if(l.__demoMode||l.menuState!==0||!d||l.activationTrigger===0)return;let x=z();return x.requestAnimationFrame(()=>{var Q,Z;(Z=(Q=f.current)==null?void 0:Q.scrollIntoView)==null||Z.call(Q,{block:"nearest"})}),x.dispose},[l.__demoMode,f,d,l.menuState,l.activationTrigger,l.activeItemIndex]);let I=Te(f),g=m.useRef({disabled:o,domRef:f,get textValue(){return I()}});q(()=>{g.current.disabled=o},[g,o]),q(()=>(n({type:5,id:t,dataRef:g}),()=>n({type:6,id:t})),[g,t]);let D=M(()=>{n({type:1})}),b=M(x=>{if(o)return x.preventDefault();n({type:1}),le(l.buttonRef.current)}),p=M(()=>{if(o)return n({type:2,focus:T.Nothing});n({type:2,focus:T.Specific,id:t})}),R=De(),s=M(x=>R.update(x)),u=M(x=>{R.wasMoved(x)&&(o||d||n({type:2,focus:T.Specific,id:t,trigger:0}))}),E=M(x=>{R.wasMoved(x)&&(o||d&&n({type:2,focus:T.Nothing}))}),A=m.useMemo(()=>({active:d,disabled:o,close:D}),[d,o,D]);return j({ourProps:{id:t,ref:h,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:b,onFocus:p,onPointerEnter:s,onMouseEnter:s,onPointerMove:u,onMouseMove:u,onPointerLeave:E,onMouseLeave:E},theirProps:i,slot:A,defaultTag:je,name:"Menu.Item"})}let Qe=L(Ae),qe=L(Oe),He=L(_e),ze=L(Ue),P=Object.assign(Qe,{Button:qe,Items:He,Item:ze});function Ke(e,r){S(2,arguments);var a=w(e),t=F(r);return isNaN(t)?new Date(NaN):(t&&a.setDate(a.getDate()+t),a)}function We(e,r){S(2,arguments);var a=w(e),t=F(r);if(isNaN(t))return new Date(NaN);if(!t)return a;var o=a.getDate(),i=new Date(a.getTime());i.setMonth(a.getMonth()+t+1,0);var l=i.getDate();return o>=l?i:(a.setFullYear(i.getFullYear(),i.getMonth(),o),a)}function ae(e,r){if(S(2,arguments),!r||ue(r)!=="object")return new Date(NaN);var a=r.years?F(r.years):0,t=r.months?F(r.months):0,o=r.weeks?F(r.weeks):0,i=r.days?F(r.days):0,l=r.hours?F(r.hours):0,n=r.minutes?F(r.minutes):0,d=r.seconds?F(r.seconds):0,f=w(e),h=t||a?We(f,t+a*12):f,I=i||o?Ke(h,i+o*7):h,g=n+l*60,D=d+g*60,b=D*1e3,p=new Date(I.getTime()+b);return p}function K(e){S(1,arguments);var r=w(e);return r.setHours(0,0,0,0),r}function W(e,r){S(2,arguments);var a=K(e),t=K(r);return a.getTime()===t.getTime()}function Ye(e,r){var a;S(1,arguments);var t=e||{},o=w(t.start),i=w(t.end),l=i.getTime();if(!(o.getTime()<=l))throw new RangeError("Invalid interval");var n=[],d=o;d.setHours(0,0,0,0);var f=Number((a=r==null?void 0:r.step)!==null&&a!==void 0?a:1);if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number greater than 1");for(;d.getTime()<=l;)n.push(w(d)),d.setDate(d.getDate()+f),d.setHours(0,0,0,0);return n}function Ve(e){S(1,arguments);var r=w(e),a=r.getDay();return a}function C(e,r){S(2,arguments);var a=w(e),t=w(r);return a.getTime()===t.getTime()}function ne(e,r){S(2,arguments);var a=w(e),t=w(r);return a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()}function k(e){return S(1,arguments),W(e,Date.now())}function Ze(){return K(Date.now())}function Ge({title:e,titleId:r,...a},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?m.createElement("title",{id:r},e):null,m.createElement("path",{fillRule:"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Je=m.forwardRef(Ge),Xe=Je;function et({title:e,titleId:r,...a},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?m.createElement("title",{id:r},e):null,m.createElement("path",{fillRule:"evenodd",d:"M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}))}const tt=m.forwardRef(et),rt=tt;function B(...e){return e.filter(Boolean).join(" ")}function xt({shifts:e,selectShift:r}){let a=Ze(),[t,o]=m.useState(a),[i,l]=m.useState(N(a,"MMM-yyyy")),n=ce(i,"MMM-yyyy",new Date);const d=m.useRef(null),[f,h]=m.useState(!1);m.useEffect(()=>{d.current.scrollBy({top:-99999}),h(!1)},[t]);let I=Ye({start:n,end:de(n)});function g(){let s=ae(n,{months:-1});l(N(s,"MMM-yyyy"))}function D(){let s=ae(n,{months:1});l(N(s,"MMM-yyyy"))}let b=e.filter(s=>W($(s.startDatetime),t));const p=()=>{const s=d.current,u=s.scrollHeight-s.scrollTop===s.clientHeight;h(u)},R=()=>{const s=d.current,u=200;f?s.scrollBy({top:-u,behavior:"smooth"}):s.scrollBy({top:u,behavior:"smooth"})};return c("div",{className:"pt-16",children:c("div",{className:"max-w-md px-4 mx-auto sm:px-7 md:max-w-4xl md:px-6",children:v("div",{className:"md:grid md:grid-cols-2 md:divide-x md:divide-gray-200",children:[v("div",{className:"md:pr-14",children:[v("div",{className:"flex items-center",children:[c("h2",{className:"flex-auto font-semibold text-gray-900",children:N(n,"MMM yyyy",{locale:J})}),v("button",{type:"button",onClick:g,className:"-my-1.5 flex flex-none items-center justify-center p-1.5 text-gray-400 hover:text-gray-500",children:[c("span",{className:"sr-only",children:"Previous month"}),c("div",{children:"<"})]}),v("button",{onClick:D,type:"button",className:"-my-1.5 -mr-1.5 ml-2 flex flex-none items-center justify-center p-1.5 text-gray-400 hover:text-gray-500",children:[c("span",{className:"sr-only",children:"Next month"}),c("div",{children:">"})]})]}),v("div",{className:"grid grid-cols-7 mt-10 text-xs leading-6 text-center text-gray-500",children:[c("div",{children:"S"}),c("div",{children:"M"}),c("div",{children:"T"}),c("div",{children:"W"}),c("div",{children:"T"}),c("div",{children:"F"}),c("div",{children:"S"})]}),c("div",{className:"grid grid-cols-7 mt-2 text-sm",children:I.map((s,u)=>v("div",{className:B(u===0&&nt[Ve(s)],"py-1.5"),children:[c("button",{type:"button",onClick:()=>o(s),className:B(C(s,t)&&"text-white",!C(s,t)&&k(s)&&"text-blue-500",!C(s,t)&&!k(s)&&ne(s,n)&&"text-gray-900",!C(s,t)&&!k(s)&&!ne(s,n)&&"text-gray-400",C(s,t)&&k(s)&&"bg-blue-500",C(s,t)&&!k(s)&&"bg-gray-900",!C(s,t)&&"hover:bg-gray-200",(C(s,t)||k(s))&&"font-semibold","mx-auto flex h-8 w-8 items-center justify-center rounded-full"),children:c("time",{dateTime:N(s,"yyyy-MM-dd"),children:N(s,"d")})}),c("div",{className:"w-1 h-1 mx-auto mt-1",children:e.some(E=>W($(E.startDatetime),s))&&c("div",{className:"w-1 h-1 rounded-full bg-sky-500"})})]},s.toString()))})]}),v("div",{className:"relative md:pl-14 md:max-h-[400px]",children:[v("section",{ref:d,className:"md:mt-0 overflow-y-scroll no-scrollbar h-full",onScroll:p,children:[v("h2",{className:"sticky top-0 w-full bg-white font-semibold text-gray-900",children:["Zmiany na dzień "," ",c("time",{dateTime:N(t,"yyyy-MM-dd"),children:N(t,"dd MMM, yyyy",{locale:J})})]}),c("ol",{className:"space-y-1 text-sm leading-6 text-gray-500",children:b.length>0?b.map(s=>c(at,{selectShift:r,meeting:s},s.id)):c("p",{children:"W tym dniu nie ma jeszcze żadnej zmiany."})})]}),b.length>0&&c("button",{onClick:R,className:"absolute right-4 bottom-4 p-2 bg-blue-500 text-white rounded-full shadow-lg",children:f?c(rt,{className:"h-6 w-6"}):c(Xe,{className:"h-6 w-6"})})]})]})})})}function at({meeting:e,selectShift:r}){let a=$(e.startDatetime),t=$(e.endDatetime);return v("li",{className:"cursor-pointer flex items-center px-4 py-2 space-x-4 group rounded-xl focus-within:bg-gray-100 hover:bg-gray-100",children:[c("div",{className:"flex justify-center items-center bg-blue-100 rounded-full px-4 py-4 text-blue-500 mr-4",children:c(se,{})}),v("div",{className:"flex-auto",children:[c("h2",{className:"",children:e.category}),c("p",{className:"text-gray-900",children:e.name}),v("p",{className:"mt-0.5",children:[c("time",{dateTime:e.startDatetime,children:N(a,"dd/MM/yyyy h:mm a")})," ",c("br",{}),c("time",{dateTime:e.endDatetime,children:N(t,"dd/MM/yyyy h:mm a")})]})]}),v(P,{as:"div",className:"relative opacity-0 focus-within:opacity-100 group-hover:opacity-100",children:[c("div",{children:v(P.Button,{className:"-m-2 flex items-center rounded-full p-1.5 text-gray-500 hover:text-gray-600",children:[v("div",{className:"leading-[5px] font-bold",children:[".",c("br",{}),".",c("br",{}),"."]}),c("span",{className:"sr-only",children:"Open options"})]})}),c(Re,{as:m.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:c(P.Items,{className:"absolute right-0 z-50 mt-2 origin-top-right bg-white rounded-md shadow-sm w-36 ring-1 ring-black ring-opacity-5 focus:outline-none",children:v("div",{className:"py-1",children:[c(P.Item,{children:({active:o})=>c("button",{type:"button",onClick:()=>r(e),className:B(o?"bg-gray-100 text-gray-900":"text-gray-700","w-full px-4 py-2 text-sm"),children:"Aplikacje"})}),c(P.Item,{children:({active:o})=>c("button",{className:B(o?" bg-gray-100 text-gray-900":"text-gray-700","w-full px-4 py-2 text-sm"),children:"Usuń zmianę"})})]})})})]})]})}let nt=["","col-start-2","col-start-3","col-start-4","col-start-5","col-start-6","col-start-7"];export{xt as default};
