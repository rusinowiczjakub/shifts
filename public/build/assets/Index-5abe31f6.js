import{r as i,q as O,j as a,F as A,a as e,y as j,c as F,W as H}from"./app-577d8930.js";import{_ as b}from"./dialog-52a525c4.js";import{a as _,B as $}from"./Briefcase-51926ae5.js";import{r as p,t as u,d as X,g as D,b as B,f as S}from"./index-cde6c6bc.js";import{e as W,p as Z}from"./index-7748d2dd.js";import{p as k}from"./index-92a6654d.js";import E from"./JobFilters-7cbc3849.js";import"./use-disposables-be0c22b6.js";import"./open-closed-0ff2e2d6.js";import"./use-is-mounted-f4eb1d61.js";import"./use-owner-ae4fa5ae.js";import"./keyboard-34e6c592.js";import"./active-element-history-524aa71f.js";import"./Datepicker-c5d6c1e4.js";import"./InputLabel-458a9a24.js";import"./TextInput-d2ae1adb.js";import"./use-resolve-button-type-9560c8b3.js";function y(t,n){p(2,arguments);var r=u(t),s=u(n),c=r.getTime()-s.getTime();return c<0?-1:c>0?1:c}function J(t,n){p(2,arguments);var r=u(t),s=u(n),c=r.getFullYear()-s.getFullYear(),h=r.getMonth()-s.getMonth();return c*12+h}function Y(t,n){return p(2,arguments),u(t).getTime()-u(n).getTime()}var L={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},q="trunc";function P(t){return t?L[t]:L[q]}function U(t){p(1,arguments);var n=u(t);return n.setHours(23,59,59,999),n}function Q(t){p(1,arguments);var n=u(t);return U(n).getTime()===W(n).getTime()}function V(t,n){p(2,arguments);var r=u(t),s=u(n),c=y(r,s),h=Math.abs(J(r,s)),l;if(h<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-c*h);var m=y(r,s)===-c;Q(u(t))&&h===1&&y(t,s)===1&&(m=!1),l=c*(h-Number(m))}return l===0?0:l}function G(t,n,r){p(2,arguments);var s=Y(t,n)/1e3;return P(r==null?void 0:r.roundingMethod)(s)}function K(t){return _({},t)}var C=1440,ee=2520,M=43200,te=86400;function re(t,n,r){var s,c;p(2,arguments);var h=B(),l=(s=(c=r==null?void 0:r.locale)!==null&&c!==void 0?c:h.locale)!==null&&s!==void 0?s:X;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var m=y(t,n);if(isNaN(m))throw new RangeError("Invalid time value");var o=_(K(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:m}),f,v;m>0?(f=u(n),v=u(t)):(f=u(t),v=u(n));var g=G(v,f),x=(D(v)-D(f))/1e3,d=Math.round((g-x)/60),w;if(d<2)return r!=null&&r.includeSeconds?g<5?l.formatDistance("lessThanXSeconds",5,o):g<10?l.formatDistance("lessThanXSeconds",10,o):g<20?l.formatDistance("lessThanXSeconds",20,o):g<40?l.formatDistance("halfAMinute",0,o):g<60?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",1,o):d===0?l.formatDistance("lessThanXMinutes",1,o):l.formatDistance("xMinutes",d,o);if(d<45)return l.formatDistance("xMinutes",d,o);if(d<90)return l.formatDistance("aboutXHours",1,o);if(d<C){var I=Math.round(d/60);return l.formatDistance("aboutXHours",I,o)}else{if(d<ee)return l.formatDistance("xDays",1,o);if(d<M){var R=Math.round(d/C);return l.formatDistance("xDays",R,o)}else if(d<te)return w=Math.round(d/M),l.formatDistance("aboutXMonths",w,o)}if(w=V(v,f),w<12){var z=Math.round(d/M);return l.formatDistance("xMonths",z,o)}else{var T=w%12,N=Math.floor(w/12);return T<3?l.formatDistance("aboutXYears",N,o):T<9?l.formatDistance("overXYears",N,o):l.formatDistance("almostXYears",N+1,o)}}function ne({title:t,titleId:n,...r},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const ae=i.forwardRef(ne),se=ae;function le({title:t,titleId:n,...r},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ie=i.forwardRef(le),oe=ie;function ce({title:t,titleId:n,...r},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const de=i.forwardRef(ce),ue=de;function me({title:t,titleId:n,...r},s){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":n},r),t?i.createElement("title",{id:n},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const fe=i.forwardRef(me),he=fe;function ge(t){const{session:n,flash:r}=O().props,[s,c]=i.useState(!1),[h,l]=i.useState(!1),m=f=>{switch(f){case"success":return"green";case"warning":return"yellow"}},o=f=>{switch(f){case"success":return e(oe,{});case"warning":return e(ue,{})}};return i.useEffect(()=>{n.requireAuth&&c(!0)},[n]),i.useEffect(()=>{const f=setTimeout(()=>{l(!1)},3e3);return r.message&&l(!0),()=>{clearTimeout(f)}},[r]),a(A,{children:[a(b,{as:"div",open:s,onClose:()=>c(!1),className:"relative z-50",children:[e("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),e("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:a(b.Panel,{className:"max-w-xl w-full space-y-4 border bg-white p-12 rounded-md",children:[e(b.Title,{children:e("h2",{className:"font-semibold",children:"Nie jesteś zalogowany"})}),e(b.Description,{children:"Musisz być zalogowany, aby móc w pełni korzystać z aplikacji."}),a("div",{className:"flex flex-col md:flex-row py-6 gap-2 border-y border-gray-100 mb-6",children:[e("button",{type:"button",onClick:()=>j.visit(route("staff.login",{redirectTo:route("jobboard.index")})),className:"w-full items-center justify-center px-3 py-4 text-sm font-medium tracking-wide text-white transition-colors duration-300 transform bg-blue-600 rounded-lg md:w-1/2 hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50",children:"Zaloguj się"}),e("button",{type:"button",onClick:()=>c(!1),className:"w-full items-center justify-center px-3 py-4 text-sm font-medium tracking-wide transition-colors duration-300 transform rounded-lg md:w-1/2 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 border border-gray-300 text-gray-600",children:"Dzięki, tylko się rozglądam"})]})]})})]}),h&&(r==null?void 0:r.message)&&e("div",{className:"fixed top-20 right-10 z-50",children:a(F,{children:[e("div",{className:`inline-flex h-8 w-8 p-2 shrink-0 items-center justify-center rounded-lg bg-${m(r==null?void 0:r.status)}-100 text-${m(r==null?void 0:r.status)}-500 dark:bg-green-800 dark:text-green-200`,children:o(r==null?void 0:r.status)}),e("div",{className:"pl-4 text-sm font-normal",children:r.message})]})}),e("div",{className:"bg-gray-50",children:t.children})]})}const xe=()=>e("nav",{className:" w-full border-b border-gray-200 dark:border-gray-600",children:a("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[e("a",{href:"https://flowbite.com/",className:"flex items-center",children:e("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"MedShifts"})}),e("div",{className:"flex md:order-2"}),e("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",children:a("ul",{className:"flex flex-col p-4 md:p-0 mt-4 font-medium md:flex-row md:space-x-8 md:mt-0",children:[e("li",{children:e("a",{href:"#",className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500","aria-current":"page",children:"Find shift"})}),e("li",{children:e("a",{href:"#",className:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"My contracts"})})]})})]})}),pe=xe,ve=t=>a("section",{className:"bg-gradient-to-bl from-neutral-100 via-violet-100 to-indigo-200 dark:bg-gray-900",children:[t.children,a("div",{className:"py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16 lg:px-12",children:[e("div",{className:"flex flex-col mb-8 lg:mb-16 space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4"}),a("div",{className:"px-4 mx-auto text-center md:max-w-screen-md lg:max-w-screen-lg lg:px-36",children:[e("span",{className:"font-semibold text-gray-400 uppercase"}),e("div",{className:"flex flex-wrap justify-center items-center mt-8 text-gray-500 sm:justify-between"})]})]})]}),be=ve,we=({className:t=null})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t??"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),ye=({className:t=null})=>a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t??"w-6 h-6",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),Ne=({className:t=null})=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t??"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})}),ke=({shift:t,onClick:n})=>{const r=c=>{j.post(route("staff.shift.apply",{shift:c}),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{console.log("success")}})},s=i.useRef();return i.useLayoutEffect(()=>{s.current&&(s.current.style.width=`${Math.round(t.applications_count/t.available_slots*100)}%`)},[t.applications_count,t.available_slots,s.current]),a("div",{onClick:()=>n(t),className:"group shadow-sm dark:shadow-gray-700 p-6 rounded-md bg-white dark:bg-slate-900",children:[a("div",{className:"flex items-center justify-between",children:[a("div",{className:"flex items-center",children:[e("div",{className:"w-16 h-16 object-cover mr-2 flex items-center justify-center bg-white dark:bg-slate-900 shadow dark:shadow-gray-700 rounded-md",children:e("img",{src:"https://edukacja.um.warszawa.pl/documents/66399/49001353/Szpital+Biela%C5%84ski+logo.png/bebcbdba-16af-9128-bb3b-40fbf26ce9b2?version=1.0&t=1650530781517&imagePreview=1",className:"size-8",alt:""})}),a("div",{className:"ms-3",children:[e("a",{href:"employer-detail.html",className:"block text-[16px] font-semibold hover:text-emerald-600 transition-all duration-500",children:t.institution.name}),a("span",{className:"block text-sm text-slate-400",children:[re(k(t.created_at),new Date,{locale:Z})," temu"]})]})]}),e("div",{children:e("button",{type:"button",onClick:()=>r(t.id),className:"flex items-center justify-center px-3 py-1.5 text-sm tracking-wide text-white transition-colors duration-300 transform bg-blue-600 rounded-lg hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 text-xs",children:e("div",{children:" Aplikuj"})})})]}),a("div",{className:"flex flex-col lg:flex-row lg:gap-6",children:[a("div",{className:"mt-6 flex flex-row items-center",children:[e("div",{className:"flex w-10 h-10 justify-center items-center bg-blue-100 rounded-md text-blue-500 mr-4",children:e(we,{})}),a("div",{className:"text-sm",children:[e("p",{className:"text-xs text-gray-500",children:"Budżet"}),a("p",{children:[t.total_pay," PLN"]})]})]}),a("div",{className:"mt-6 flex flex-row items-center",children:[e("div",{className:"flex w-10 h-10 justify-center items-center bg-blue-100 rounded-md text-blue-500 mr-4",children:e($,{})}),a("div",{className:"text-sm",children:[e("p",{className:"text-xs text-gray-500",children:"Specjalizacja"}),e("p",{children:t.professional_type.name})]})]}),a("div",{className:"mt-6 flex flex-row items-center",children:[e("div",{className:"flex w-10 h-10 justify-center items-center bg-blue-100 rounded-md text-blue-500 mr-4",children:e(ye,{})}),a("div",{className:"text-sm",children:[e("p",{className:"text-xs text-gray-500",children:"Lokalizacja"}),e("p",{children:t.address.city})]})]}),a("div",{className:"mt-6 flex flex-row items-center",children:[e("div",{className:"flex w-10 h-10 justify-center items-center bg-blue-100 rounded-md text-blue-500 mr-4",children:e(Ne,{})}),a("div",{className:"text-sm",children:[e("p",{className:"text-xs text-gray-500",children:"Termin"}),a("p",{children:[S(k(t.start_date),"HH:mm dd.MM "),"- ",S(k(t.end_date),"HH:mm dd.MM ")]})]})]})]}),a("div",{className:"mt-6",children:[e("div",{className:"w-full bg-gray-100 dark:bg-gray-800 rounded-full h-[6px]",children:e("div",{ref:s,style:{width:"0%"},className:"bg-blue-600 h-[6px] rounded-full"})}),e("div",{className:"mt-2",children:a("span",{className:"text-slate-400 text-sm",children:[a("span",{className:"text-slate-900 dark:text-white font-semibold inline-block",children:[t.applications_count," aplikacji"]})," na ",t.available_slots," miejsc"]})})]})]})},Me=ke;function Be({shifts:t,filters:n}){const[r,s]=i.useState(null),[c,h]=i.useState(!1),[l,m]=i.useState(!1),{data:o,setData:f,reset:v}=H({city:[],professionalType:[],periodStart:null,periodEnd:null}),g=(x=!1)=>{j.get(route("jobboard.index"),x?{}:o,{preserveState:!0,preserveScroll:!0})};return i.useEffect(()=>{console.log(o)},[o]),i.useEffect(()=>{const x=window.matchMedia("(max-width: 768px)"),d=()=>{h(x.matches)};return x.addEventListener("change",d),d(),()=>x.removeEventListener("change",d)},[]),a(ge,{children:[e(be,{children:e(pe,{})}),e("div",{className:"px-8",children:a("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 flex flex-col lg:flex-row lg:justify-between",children:[!c&&e("div",{className:"w-full lg:w-1/4 h-screen overflow-y-auto no-scrollbar pt-20",children:e("div",{className:"px-2 hidden md:flex flex-col gap-10",children:e(E,{submitFilters:()=>g(),filters:n,setData:f,data:o})})}),c&&e("div",{className:"w-full border-b border-gray-200 px-2 py-2",children:a("div",{onClick:()=>m(!0),className:"flex flex-row justify-end cursor-pointer",children:[e("div",{className:"text-sm mr-2",children:"Filtruj"}),e("div",{className:"w-6 h-6 text-gray-600",children:e(se,{})})]})}),e("div",{className:"lg:flex w-full lg:w-2/3 h-full pt-20",children:e("div",{className:"w-full h-full",children:t.map(x=>e("div",{className:"mb-4",children:e(Me,{onClick:()=>s(x),shift:x})}))})})]})}),c&&e(b,{open:l,onClose:()=>m(!1),children:a("div",{className:"fixed bg-white inset-0 flex flex-col px-4 py-4",children:[e("div",{className:"w-full flex justify-end",children:e("button",{onClick:()=>m(!1),type:"button",className:"h-6 w-6",children:e(he,{})})}),e(b.Title,{children:"Filtruj wyniki wyszukiwania"}),a(b.Panel,{children:[e(E,{submitFilters:()=>g(),filters:n,setData:f,data:o}),a("div",{className:"flex flex-col lg:flex-row gap-2 justify-center",children:[e("button",{onClick:()=>m(!1),type:"button",className:"w-full flex items-center justify-center px-6 py-3 text-sm font-medium tracking-wide text-white transition-colors duration-300 transform bg-blue-600 rounded-lg md:w-1/2 hover:bg-blue-400 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50",children:"Zastosuj"}),e("button",{onClick:()=>{v(),g(!0)},type:"button",className:"w-full flex items-center justify-center px-6 py-3 text-sm font-medium tracking-wide text-gray-500 transition-colors duration-300 transform border border-gray-400 rounded-lg md:w-1/2 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50",children:"Resetuj filtry"})]})]})]})})]})}export{Be as default};
